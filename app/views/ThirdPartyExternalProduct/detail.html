#{extends 'templates/detail1.html' /}
#{set pageTitle: 'Third Party External Product' /}
#{set id:thirdParty?.thirdPartyKey /}
#{set readOnly:(((mode!='edit')&&(mode!='entry'))||(confirming)) /}
#{script 'lookuppaging.js' /}
#{script 'lookups.js' /}
#{script 'validation/numericOnly.js' /}

<script type="text/javascript">
	#{include 'RegistrySubscription/Util.js' /}
	#{include 'ThirdPartyExternalProduct/externalProduct.js' /}
</script>

<form id="thirdPartyForm" class="form" method="POST">
#{hidden id:'thirdPartykey', name:'thirdParty.thirdPartyKey', value:thirdParty?.thirdPartyKey /}
#{hidden name:'thirdParty.organization.organizationId', value:thirdParty?.organization?.organizationId /}
#{hidden id:'thirdPartyType', name:'thirdParty.thirdPartyType.lookupId', value:thirdParty?.thirdPartyType?.lookupId /}
#{hidden id:'thirdPartyRecordStatus', name:'thirdParty.recordStatus', value:thirdParty?.recordStatus /}
	<p>
		#{textBox id:'thirdPartyCode', name:'thirdParty.thirdPartyCode', label:'Code', value:thirdParty?.thirdPartyCode, class:'capitalize', width:'115px',required:true,readOnly:((mode=='entry') ? ((mode=='edit') || confirming) : true ), maxLength:50 /}
		<span class="error">#{error 'Code is' /}</span>
	</p>
	<p>
		#{textBox id:'thirdPartyName', name:'thirdParty.thirdPartyName', label:'Name', value:thirdParty?.thirdPartyName, class:'capitalize', width:'315px',required:true,readOnly:readOnly, maxLength:50 /}
		<span class="error">#{error 'Name is' /}</span>
	</p>
	<p>
		#{textBox id:'contact1', name:'thirdParty.contact1', label:'Contact Person 1',value:thirdParty?.contact1, class:'capitalize', width:'315px',readOnly:readOnly, maxLength:100 /}
		<span class="error">#{error 'Contact Person 1 is' /}</span>
	</p>
	<p>	
		<label style="margin-left: 5em">Position</label>
		<span style="margin-left: -5em">
		#{textBox id:'contactPosition1', name:'thirdParty.contact1Position',value:thirdParty?.contact1Position, class:'capitalize', width:'315px',readOnly:readOnly, maxLength:100 /}
		<span class="error">#{error 'Position 1 is' /}</span>
		</span>
	</p>
	<p>
		#{textBox id:'contact2', name:'thirdParty.contact2', label:'Contact Person 2',value:thirdParty?.contact2, class:'capitalize', width:'315px',readOnly:readOnly, maxLength:100 /}
		<span class="error">#{error 'Contact Person 2 is' /}</span>
	</p>
	<p>	
		<label style="margin-left: 5em">Position</label>
		<span style="margin-left: -5em">
		#{textBox id:'contactPosition2', name:'thirdParty.contact2Position', value:thirdParty?.contact2Position, class:'capitalize', width:'315px',readOnly:readOnly, maxLength:100 /}
		<span class="error">#{error 'Position 2 is' /}</span>
		</span>
	</p>
	<p>
		#{textBox id:'currency', name:'thirdParty.currency.currencyCode', label:'Currency', value:thirdParty?.currency?.currencyCode, class:'capitalize', required:true, readOnly:readOnly, width:'55px' /}
		#{button id:'currencyHelp', value:'?', class:'small', readOnly:readOnly /}
		#{textBox id:'currencyDesc', name:'thirdParty.currency.description', value:thirdParty?.currency?.description, readOnly:true, width:'226px' /}
		&nbsp;<span class="error">#{error 'Currency is' /}</span>
	</p>
	<p>
		#{textBox id:'fundManager', name:'thirdParty.fundManager.thirdPartyCode', label:'Fund Manager', value:thirdParty?.fundManager?.thirdPartyCode, class:'capitalize', required:true, readOnly:readOnly, width:'55px' /}
		#{hidden id:'fundManagerKey', name:'thirdParty.fundManager.thirdPartyKey', value:thirdParty?.fundManager?.thirdPartyKey /}
		#{button id:'fundManagerHelp', value:'?', class:'small', readOnly:readOnly /}
		#{textBox id:'fundManagerDesc', name:'thirdParty.fundManager.thirdPartyName', value:thirdParty?.fundManager?.thirdPartyName, readOnly:true, width:'226px' /}
		&nbsp;<span class="error">#{error 'Fund Manager is' /}</span>
	</p>
	<p>
		#{textBox id:'custodianBank', name:'thirdParty.custodianBank', label:'Custodian Bank',value:thirdParty?.custodianBank,required:true, class:'capitalize', width:'315px',readOnly:readOnly, maxLength:100 /}
		<span class="error">#{error 'Custodian Bank is' /}</span>
	</p>
	<p>
	<fieldset style="width: 550px"> <legend><b>Bank Account</b></legend>
		#{hidden id:'bankCodeKey', name:'thirdPartyBank.thirdPartyBankKey', value:thirdPartyBank?.thirdPartyBankKey /}
		<p>
			#{textBox id:'bankCode', name:'thirdPartyBank.bankCode.thirdPartyCode', label:'Bank Code', value:thirdPartyBank?.bankCode?.thirdPartyCode, class:'capitalize',required:true , readOnly:readOnly, width:'57px' /}
			#{hidden id:'bankCodeKey', name:'thirdPartyBank.bankCode.thirdPartyKey', value:thirdPartyBank?.bankCode?.thirdPartyKey /}
			#{button id:'bankCodeHelp', value:'?', class:'small', readOnly:readOnly /}
			#{textBox id:'bankCodeDesc', name:'thirdPartyBank.bankCode.thirdPartyName', value:thirdPartyBank?.bankCode?.thirdPartyName, readOnly:true, width:'216px' /}
			&nbsp;<span class="error">#{error 'Bank Code is' /}</span>
		</p>
		
		<p>
			#{textBox id:'bankAccountNo', name:'thirdPartyBank.accountNo', label:'Account No', value:thirdPartyBank?.accountNo, class:'capitalize', readOnly:readOnly, required:true, width:'307px', maxLength:50 /}
			&nbsp;<span class="error">#{error 'Account No is' /}</span>
		</p>
		<p>
			#{textBox id:'accountHolderName', name:'thirdPartyBank.accountName', label:'Beneficiary Name', value:thirdPartyBank?.accountName, class:'capitalize', required:true, readOnly:readOnly, width:'307px', maxLength:50 /}
			&nbsp;<span class="error">#{error 'Beneficiary Name is' /}</span>
		</p>		
		<p>
			#{textBox id:'currencyBank', name:'thirdPartyBank.currency.currencyCode', label:'Currency', value:thirdPartyBank?.currency?.currencyCode, class:'capitalize', required:true, readOnly:readOnly, width:'57px' /}
			#{button id:'currencyBankHelp', value:'?', class:'small', readOnly:readOnly /}
			#{textBox id:'currencyBankDesc', name:'thirdPartyBank.currency.description', value:thirdPartyBank?.currency?.description, readOnly:true, width:'216px' /}
			&nbsp;<span class="error">#{error 'Currency bank is' /}</span>
		</p>
		<p>			
			#{textBox id:'thirdPartyBranch', name:'thirdPartyBank.branchCode', label:'Branch',value:thirdPartyBank?.branchCode, class:'capitalize', width:'307px', required:true, readOnly:readOnly , maxLength:50 /}
			&nbsp;<span class="error">#{error 'Branch is' /}</span>
		</p>
		<p>			
			#{textBox id:'bicCode', name:'thirdPartyBank.bicCode', label:'BIC Code',value:thirdPartyBank?.bicCode, class:'capitalize', width:'307px', required:true, readOnly:readOnly , maxLength:50 /}
			&nbsp;<span class="error">#{error 'BIC Code is' /}</span>
		</p>
			
	</fieldset>
	</p>
	<p>	
		#{textArea id:'remarks', name:'thirdParty.remarks', label:'Remarks', value:thirdParty?.remarks, readOnly:readOnly, class:'capitalize', width:'315px', maxLength:50/}
	</p>
	<p>
		#{radioButton id:'isActive', name:'isActive', value:((thirdParty?.isActive)?'true':'false'), label:'Active', options:operators, readOnly:readOnly /}
		#{hidden id:'isActiveHidden', name:'thirdParty.isActive', value:((thirdParty?.isActive)?'true':'false') /}
	</p>
</form>